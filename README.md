## BANK MARKETING DATA: CASE STUDY 

## DESCRIPTION

Projects form an important part of the education of software engineers. They form an
active method of teaching, as defined by Piaget, leading to a "training in self-discipline
and voluntary effort", which is important to software engineering professionals. Two
purposes served by these projects are: education in professional practice, and outcomes-
based assessment.

The data is related with direct marketing campaigns (phone calls) of a Portuguese
banking institution. The classification goal is to predict if the client will subscribe a term
deposit (variable Y).

Source:

[Moro et al., 2014] S. Moro, P. Cortez and P. Rita. A Data-Driven Approach to Predict the
Success of Bank Telemarketing. Decision Support Systems, Elsevier, 62:22-31, June
2014

We are going to work with dataset bank-additional-full.csv with all examples (41188) and
20 inputs, ordered by date (from May 2008 to November 2010), very close to the data
analyzed in [Moro et al., 2014].

Deliverables are concerned with Multivariant Data Analysis and model building for
response variables: Y- Duration of the call and binary factor Y (Binary Target) if the
product (bank term deposit) would be ('yes') or not ('no') subscribed.

A random sample containing 5000 registers has to be generated by each group and kept
for all the practice.

Conclusions to exploratory multidimensional statistics are useful to enlighten some
aspects of possible behavior and “predictors” for the numeric target, or the binary
discrete target. Their relationships with the other variables has to be established
previously to model building

Models to be considered are: general linear model for duration (extension of classical
regression to allow the presence of factors as explanatory variables) included in
Statistical Modeling Topics I and II and binary regression for Y (Statistical Modeling III).

3 Reports on: Data cleaning, feature selection and profiling, multivariant analysis and
numeric and binary targets modeling (limited to 50 pages each).

### Common Sections for the Documentation of Final Deliverable

The following pages are to be included in the deliverable:


I. Cover page (contents & layout)
  a. Name of Document
  b. Author’s name(s)
  c. Date
II. Validation of the Data Set: description of the process (Univariate Descriptive Analysis should be included for each variable).
III. Data Imputation for selected numeric variables
IV. Data Imputation for selected categorical variables
V. Feature Selection for Numeric Target and Binary Target: description of the process and conclusions.
VI. Principal Component Analysis.
VII. Multiple Correspondence Analysis
VIII. Clustering: population segmentation.
IX. Description of Model Building process for prediction of numeric response (Numeric Target).
  a. Statistical summary of considered variables.
  b. Best Model Selection. Relationship to Feature Selection results.
  c. Model building: goodness of fit, interpretation of estimators in the final model
  d. Model Validation: outliers and influent data.
X. Feature Selection for Binary Target: description of the process and conclusions
XI. Description of Model Building process for prediction of binary response
  a. Statistical summary of considered variables.
  b. Best Model Selection. Relationship to Feature Selection results.
  c. Model building: goodness of fit, interpretation of estimators in the final model
  d. Model Validation: outliers and influent data.
  e. Sample Split into Work and Test samples. Predictive Capability for each sample.
XII. Conclusions

## Description of the Process


### Parts II to V (1s Deliverable)

### Univariate Descriptive Analysis (to be included for each variable ):

- Original numeric variables corresponding to qualitative concepts have to be converted to
    factors. New factors grouping original levels will be considered very positively.
- Original numeric variables corresponding to real quantitative concepts are kept as
    numeric but additional factors should also be created as a discretization of each numeric
    variable.
- Exploratory Data Analysis for each variables (numeric summary and graphic support).

### Data Quality Report: 

Per variable, count:
- Number of missing values
- Number of errors (including inconsistencies)
- Number of outliers
- Rank variables according the sum of missing values (and errors).
Per individuals, count:
- number of missing values
- number of errors,
- number of outliers
- Identify individuals considered as multivariant outliers.
Create variable adding the total number missing values, outliers and errors.


### Describe these variables, to which other variables exist higher associations.

- Compute the correlation with all other variables. Rank these variables according the
    correlation
- Compute for every group of individuals (group of age, etc, ...) the mean of
    missing/outliers/errors values. Rank the groups according the computed mean.

### Imputation:

- Numeric Variables
- Factors

### Profiling:

- Numeric Target (Duration)
- Factor (Y, Final Decision)

_R Markdown script should be included. A report (pdf file) has to describe decisions, procedures,
criteria, etc._

## Parts VI to VIII

### PCA analysis for your data should contain:

- Eigenvalues and dominant axes analysis. How many axes we have to interpret according
    to Kaiser and Elbow's rule?
- Individuals point of view: Are they any individuals "too contributive"? To better
    understand the axes meaning use the extreme individuals. Detection of multivariant
    outliers and influent data.
- Interpreting the axes: Variables point of view coordinates, quality of representation,
    contribution of the variables
- Perform a PCA taking into account also supplementary variables the supplementary
    variables can be quantitative and/or categorical

### K-Means Classification
- Description of clusters

### Hierarchical Clustering
- Description of clusters

### CA analysis for your data should contain your factor version of the numeric target ( previous ) in K= 7 (maximum 10) levels and 2 factors:

- Eigenvalues and dominant axes analysis. How many axes we have to consider
- Are there any row categories that can be combined/avoided to explain Duration target.

### MCA analysis for your data should contain:

- Eigenvalues and dominant axes analysis. How many axes we have to consider for next
    Hierarchical Classification stage?
- Individuals point of view: Are they any individuals "too contributive"? Are there any
    groups?
- Interpreting map of categories: average profile versus extreme profiles (rare categories)
- Interpreting the axes association to factor map.



- Perform a MCA taking into account also supplementary variables (use all numeric
    variables) quantitative and/or categorical. How supplementary variables enhance the axis
    interpretation?

### Hierarchical Clustering (from MCA)

- Description of clusters
- Parangons and class-specific individuals.
- Comparison of clusters obtained after K-Means (based on PCA) and/or Hierarchical
    Clustering (based on PCA) focusing on Duration target.
- Comparison of clusters obtained after K-Means (based on PCA) and/or Hierarchical
    Clustering (based on PCA) focusing on the binary target.

Parts IX to XI for Statistical Modelling are detailed:

- Outcome previous (Numeric Target) – y is the numeric response variable. This variable will
    be the target for linear model building (Statistical Modeling I and II). Restriction: Some
    variables can be indicated not to be used as explanatory variable in any final model for the
    target.
- Outcome: ‘Y’ (Binary Target) will be the response variable for Binary Regression Models
    included in Statistical Modeling Part III. Y is Yes if the client will subscribe a term deposit.
    Restriction: Some variables as Duration can be indicated not to be used as explanatory
    variable in any final model for the target.

Explicative Variables for modeling purposes are any of the initial variables (except target) and
new variables developed during the analysis process.

Multivariant Analysis conducted in previous deliverables has to be used to select the initial
model. Students have some degrees in freedom in model building, but the following conditions
are requested:

- For General Regression Models (Statistical Modeling Part I and II) Numeric Target as the
    response variable.
       o At least two numerical variables have to be considered as explicative variables for
          initial steps in model building, called covariates. Non-linear models have to be
          checked for consistency.
       o Select the most significant factors found in Multivariant Data Analysis as initial
          model factors. Put some reasonable limits to initial model complexity.
       o You have to consider at least one interaction between a couple of factors and
          one interaction between factor and covariate.
       o Diagnostics of the final model have to be undertaken. Lack of fit observations and
          influence data have to be selected and discussed (connections to
          multidimensional outliers in Multivariant Data Analysis is highly valuable).
- For Binary/Logistic Regression Models (Statistical Modeling Part III) target analysis.
    o Split the sample in work and test samples (consisting on a 70-30 split). Working
       data frame has to be used for model building purposes.
    o At least two numerical variables have to be considered as explicative variables for
       initial steps in model building.


- Select the most significant factors according to feature selection as initial model
factors. Put some reasonable limits to initial model complexity.
- You have to consider at least one interaction between a couple of factors and
one interaction between factor and covariate.
- Diagnostics of the final model have to be undertaken. Lack of fit observations and
influence data have to be selected and discussed (connections to
multidimensional outliers in Multivariant Data Analysis is highly valuable).
- You have to predict Y (Binary Target) in the Working Data Frame vs the rest
according to the best validated model that you can find and make a confusion
matrix.
- Make a confusion matrix in the Testing Data Frame for Y (Binary Target) according
to the best validated model found.


Confusion Matrix: When referring to the performance of a classification model, we are
interested in the model’s ability to correctly predict or separate the classes. When looking at the
errors made by a classification model, the confusion matrix gives the full picture. Consider e.g. a
three class problem with the classes A, and B. The confusion matrix shows how the predictions
are made by the model. The rows correspond to the known class of the data, i.e. the labels in the
data. The columns correspond to the predictions made by the model. The value of each of
element in the matrix is the number of predictions made with the class corresponding to the
column for examples with the correct value as represented by the row. Thus, the diagonal
elements show the number of correct classifications made for each class, and the off-diagonal
elements show the errors made.

### Data Description

### Bank Marketing Full Dataset:

Data dictionary describes Bank Marketing bank-additional-full.csv data to be downloaded at
(http://archive.ics.uci.edu/ml/machine-learning-databases/00222/. A sample of 5000 instances has been
randomly selected. Number of registers: 41188 with 21 variables.


1 age numeric
2 job

type of job (categorical: 'admin.', 'bluecollar', 'entrepreneur', 'housemaid',
'management', 'retired', 'selfemployed', 'services', 'student', 'technician',
'unemployed', 'unknown')
3 marital
marital status (categorical 'divorced', 'married', 'single', 'unknown'; note
'divorced' means divorced or widowed)
4 education
(categorical 'basic.4y', 'basic.6y', 'basic.9y', 'high.school', 'illiterate',
'professional.course', 'university.degree', 'unknown')
5 default has credit in default? (categorical 'no', 'yes', 'unknown')
6 housing has housing loan? (categorical 'no', 'yes', 'unknown')
7 loan
has personal loan? (categorical 'no', 'yes', 'unknown')# related with the last
contact of the current campaign
8 contact contact communication type (categorical :'cellular','telephone')
9 month last contact month of year (categorical: 'jan', 'feb', 'mar',..., 'nov', 'dec')
10 day_of_week last contact day of the week (categorical:'mon','tue','wed','thu','fri')
11 duration

last contact duration, in seconds (numeric). Important note: this attribute
highly affects the Y binary output target (e.g., if duration=0 then y='no'). Yet,
the duration is not known before a call is performed. Also, after the end of

the call y is obviously known. Thus, this input should be discarded if the
intention is to have a realistic predictive model for the binary target. Numeric
target.
12 campaign^ number of contacts performed during this campaign and for this client
(numeric, includes last contact)
13 pdays
number of days that passed by after the client was last contacted from a
previous campaign (numeric; 999 means client was not previously contacted)
14 previous
number of contacts performed before this campaign and for this client
(numeric)
15 poutcome
outcome of the previous marketing campaign (categorical: 'failure',
'nonexistent', 'success')
16 emp.var.rate employment variation rate - quarterly indicator (numeric)
17 cons.price.idx consumer price index - monthly indicator (numeric)
18 cons.conf.idx consumer confidence index - monthly indicator (numeric)
19 euribor3m euribor 3 month rate - daily indicator (numeric)
20 nr.employed number of employees - quarterly indicator (numeric)
21 y has the client subscribed a term deposit? ( binary target : 'yes', 'no')

Missing Attribute Values: There are several missing values in some categorical attributes, all coded with
the "unknown" label. These missing values can be treated as a possible class label or using imputation
techniques, deletion is the last option to follow.


